const a48_0x2de6d1=a48_0x4560;function a48_0x20c9(){const _0x3eeb4e=['ysbMywL0ihvUignSAw4GzcFfK2LSimoG','Dg9tDhjPBMC','y29UC3rYDwn0B3i','A2LJAW','zw5K','DgfWB3rLCG','A2LSBa','C2vHCMnO','Cgf0Aa','BgfUy2vY','mtq4nJmWsLHHDuPd','yxbWBhK','Cg9Rzq','yxDVBW','C2fSDwvY','Bezfsvi','y2fSAw5LCG','yML0zq','DgfXDwLUW6KOzsK','zMX1zw50lwzMBxbLzW','tfDUDxm','mJe2oteYmePRrMfgvq','lM1Wna','C21PBgu','zgfUy2u','u25pwuC','yM9UAW','DgfWB3tdQsHLkq','ysbSj2fPCIbJCMLUz2uGCg91CG','ChjVBwLZzxm','vxPhExy','C0fMv1a','BwfSAwnL','uffyreG','C2vUze1LC3nHz2u','zMfPDcb1BIbZB3vYAxjLimoG','C2f2zq','Bg9N','BxDNAvq','zw1ICMfZC8oPkguP','BgvJAmoPkguP','D2LUAW','DxjS','CgXLDxjLCG','mtq5odKWnwvwru1tvG','DhvLCG','mZi4C2XqvM1O','lw1VDMzSywDZigzHC3rZDgfYDa','Dg9gB3jTyxq','vLn1q2O','DgvUDsHLkq','C3bSAxq','CgLLza','z2LMBmoPkguP','CMfUzg9T','zMfPDcb1BIb0B3aTBgeGW6a','zxjYB3i','zgfUC2vY','C291CMLYzq','y2fSAw7dQsHLkq','zw1ICMfZC2vY','C2XHCa','AgfUzgHVBgq','AgLNAgzPDMu','zw5SywnLCG','nZeYmJG5AfjHtNnJ','nNzLwNbqwq','ndu5otK1mM9wyu5LCq','B3v0Chv0t3b0Aw9UCW','wuTPtMq','AgfWChK','mJeZmJiWmJzJrwjhufO','ywXSu2v0DgXLza','y3vKzgXL','EwvLDa','z2LMBgvY','D2f2zq','CevrsNa','zMfPDcb1BIbJywXPBG','Cg91C3nLCG','Eu1qtNu','mta1nZC3suzJBLrP','t1ntqwy','DKrVthe','AMv0DmoPkguP','Bxa0','qgzMBxbLzY1PBNn0ywXSzxiVzMzTCgvN','BgvJAgvY','CM91z2KOzsKGW6a','y3jPBMDL','yNvSBhK','Cgf0','zw5SywpdQsHLkq'];a48_0x20c9=function(){return _0x3eeb4e;};return a48_0x20c9();}(function(_0x20e5c6,_0x502db0){const _0xe63379=a48_0x4560,_0x4983ab=_0x20e5c6();while(!![]){try{const _0x4bc0fe=-parseInt(_0xe63379(0x13d))/0x1+-parseInt(_0xe63379(0x106))/0x2*(-parseInt(_0xe63379(0x13e))/0x3)+-parseInt(_0xe63379(0x13f))/0x4+-parseInt(_0xe63379(0x128))/0x5+-parseInt(_0xe63379(0x111))/0x6+parseInt(_0xe63379(0x14d))/0x7*(parseInt(_0xe63379(0x12a))/0x8)+parseInt(_0xe63379(0x143))/0x9;if(_0x4bc0fe===_0x502db0)break;else _0x4983ab['push'](_0x4983ab['shift']());}catch(_0x1bc5e0){_0x4983ab['push'](_0x4983ab['shift']());}}}(a48_0x20c9,0x95d55));const a48_0x40a7d8=(function(){const _0x106092=a48_0x4560,_0x556282={'VSuCj':function(_0x5df8d5,_0x2f1c0a){return _0x5df8d5===_0x2f1c0a;},'LWnus':_0x106092(0x11a)};let _0x242036=!![];return function(_0x2d8c8c,_0x596072){const _0x4ab0d1=_0x242036?function(){const _0x4b14ca=a48_0x4560;if(_0x556282[_0x4b14ca(0x12d)](_0x556282[_0x4b14ca(0x110)],_0x4b14ca(0x11a))){if(_0x596072){const _0x5cb067=_0x596072[_0x4b14ca(0x107)](_0x2d8c8c,arguments);return _0x596072=null,_0x5cb067;}}else{const _0x16f061=_0x421814?function(){const _0x1a0032=_0x4b14ca;if(_0x25bb5a){const _0x37bdea=_0x184c6e[_0x1a0032(0x107)](_0x2bd230,arguments);return _0xf792d2=null,_0x37bdea;}}:function(){};return _0x452480=![],_0x16f061;}}:function(){};return _0x242036=![],_0x4ab0d1;};}()),a48_0x4ae0c3=a48_0x40a7d8(this,function(){const _0x536741=a48_0x4560,_0x4ef9cb={'mwgiT':'(((.+)+)+)+$'};return a48_0x4ae0c3['toString']()['search'](_0x4ef9cb[_0x536741(0x122)])[_0x536741(0x15a)]()[_0x536741(0x15b)](a48_0x4ae0c3)[_0x536741(0x160)](_0x4ef9cb['mwgiT']);});a48_0x4ae0c3();const ffmpeg=require(a48_0x2de6d1(0x10f)),fs=require('fs-extra'),{unlink}=require('fs')[a48_0x2de6d1(0x119)],{zokou}=require('../framework/zokou'),ffmpegPath=require(a48_0x2de6d1(0x152))[a48_0x2de6d1(0x161)],axios=require('axios'),{TEMP_DIR}=require('../framework/constant');ffmpeg['setFfmpegPath'](ffmpegPath);function a48_0x4560(_0x347033,_0xd70063){const _0xd89338=a48_0x20c9();return a48_0x4560=function(_0x4ae0c3,_0x40a7d8){_0x4ae0c3=_0x4ae0c3-0x105;let _0x20c944=_0xd89338[_0x4ae0c3];if(a48_0x4560['kyjryx']===undefined){var _0x4560a6=function(_0x3e7694){const _0x433ea4='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x1f3b58='',_0x2476b3='',_0x5589e2=_0x1f3b58+_0x4560a6;for(let _0x5ae6ef=0x0,_0x2490a6,_0x2ac3f3,_0x3a0c01=0x0;_0x2ac3f3=_0x3e7694['charAt'](_0x3a0c01++);~_0x2ac3f3&&(_0x2490a6=_0x5ae6ef%0x4?_0x2490a6*0x40+_0x2ac3f3:_0x2ac3f3,_0x5ae6ef++%0x4)?_0x1f3b58+=_0x5589e2['charCodeAt'](_0x3a0c01+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x2490a6>>(-0x2*_0x5ae6ef&0x6)):_0x5ae6ef:0x0){_0x2ac3f3=_0x433ea4['indexOf'](_0x2ac3f3);}for(let _0x421814=0x0,_0x5c9ef0=_0x1f3b58['length'];_0x421814<_0x5c9ef0;_0x421814++){_0x2476b3+='%'+('00'+_0x1f3b58['charCodeAt'](_0x421814)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x2476b3);};a48_0x4560['njxavS']=_0x4560a6,_0x347033=arguments,a48_0x4560['kyjryx']=!![];}const _0xb0c6af=_0xd89338[0x0],_0x1f6165=_0x4ae0c3+_0xb0c6af,_0x52eb17=_0x347033[_0x1f6165];if(!_0x52eb17){const _0x46c692=function(_0x3ed03a){this['uQpYCm']=_0x3ed03a,this['RnSuFk']=[0x1,0x0,0x0],this['vDSjCI']=function(){return'newState';},this['CsjXwZ']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['yPSStO']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x46c692['prototype']['vaUvld']=function(){const _0x43847b=new RegExp(this['CsjXwZ']+this['yPSStO']),_0x452480=_0x43847b['test'](this['vDSjCI']['toString']())?--this['RnSuFk'][0x1]:--this['RnSuFk'][0x0];return this['TOYzAX'](_0x452480);},_0x46c692['prototype']['TOYzAX']=function(_0x25bb5a){if(!Boolean(~_0x25bb5a))return _0x25bb5a;return this['MXspLZ'](this['uQpYCm']);},_0x46c692['prototype']['MXspLZ']=function(_0x6b3e68){for(let _0x45ff9d=0x0,_0x512639=this['RnSuFk']['length'];_0x45ff9d<_0x512639;_0x45ff9d++){this['RnSuFk']['push'](Math['round'](Math['random']())),_0x512639=this['RnSuFk']['length'];}return _0x6b3e68(this['RnSuFk'][0x0]);},new _0x46c692(a48_0x4560)['vaUvld'](),_0x20c944=a48_0x4560['njxavS'](_0x20c944),_0x347033[_0x1f6165]=_0x20c944;}else _0x20c944=_0x52eb17;return _0x20c944;},a48_0x4560(_0x347033,_0xd70063);}const sleep=_0x3fd527=>{return new Promise(_0x4c2338=>setTimeout(_0x4c2338,_0x3fd527));},GIFBufferToVideoBuffer=async _0x5dc1bd=>{const _0x4bf022=a48_0x2de6d1,_0x77de82={'YKiNd':function(_0x3b38e2,_0x5b389a){return _0x3b38e2!==_0x5b389a;},'hnBrp':function(_0x1c5856,_0x2094dd){return _0x1c5856(_0x2094dd);},'JywSQ':'-pix_fmt\x20yuv420p','SnOYG':_0x4bf022(0x15d)},_0x34b3b9=''+Math[_0x4bf022(0x132)]()[_0x4bf022(0x15a)](0x24),_0x19d94c=TEMP_DIR+_0x34b3b9+'.gif',_0x9d5238=TEMP_DIR+_0x34b3b9+_0x4bf022(0x112);return fs['writeFileSync'](_0x19d94c,_0x5dc1bd),new Promise((_0x24b3cf,_0x39adcf)=>{const _0x252ed4=_0x4bf022;if(_0x77de82[_0x252ed4(0x141)](_0x252ed4(0x14c),_0x252ed4(0x11d)))_0x77de82['hnBrp'](ffmpeg,_0x19d94c)[_0x252ed4(0x140)]([_0x252ed4(0x12b),_0x77de82['JywSQ'],'-vf\x20scale=trunc(iw/2)*2:trunc(ih/2)*2'])[_0x252ed4(0x12c)](_0x252ed4(0x151))[_0x252ed4(0x120)](_0x9d5238)['on'](_0x77de82[_0x252ed4(0x115)],async()=>{try{const _0x8f4549=await fs['readFile'](_0x9d5238);await Promise['all']([unlink(_0x19d94c),unlink(_0x9d5238)]),_0x24b3cf(_0x8f4549);}catch(_0xe1e4e0){_0x39adcf(_0xe1e4e0);}})['on'](_0x252ed4(0x134),async _0x554667=>{const _0x193f29=_0x252ed4;await Promise[_0x193f29(0x144)]([unlink(_0x19d94c),unlink(_0x9d5238)]),_0x39adcf(_0x554667);});else{const _0x2b897e={'video':_0x18395f,'gifPlayback':!![],'caption':'@'+_0x6a02c2[_0x252ed4(0x12f)]('@')[0x0]+'\x20s\x27est\x20'+_0x83e1e7+'\x20lui\x20même.','mentions':[_0x355d8e]};_0x568334['sendMessage'](_0x26ecd5,_0x2b897e,{'quoted':_0x542a07});}});},generateReactionCommand=(_0x16929e,_0x117822,_0x474a08,_0x56e5b4)=>{const _0xb58c25=a48_0x2de6d1,_0x162abc={'lLDRN':function(_0xa338a6,_0x1550e9){return _0xa338a6===_0x1550e9;},'lFEIR':_0xb58c25(0x11b),'pEQJp':function(_0x2291ce,_0x2f74a6,_0x5c422f){return _0x2291ce(_0x2f74a6,_0x5c422f);}};_0x162abc[_0xb58c25(0x149)](zokou,{'nomCom':_0x474a08,'categorie':'Reaction','reaction':_0x117822},async(_0xe1f593,_0x49a2dd,_0x247898)=>{const _0x59d403=_0xb58c25;if(_0x162abc['lLDRN'](_0x162abc[_0x59d403(0x10b)],_0x59d403(0x14f)))return new _0x3bfca6(_0x1215ce=>_0x300c06(_0x1215ce,_0xb4ecb));else{const {auteurMessage:_0x5080b2,auteurMsgRepondu:_0x4daf42,repondre:_0x50f98f,ms:_0xc30998,msgRepondu:_0x15e910}=_0x247898,_0x4e48a9='https://api.waifu.pics/sfw/'+_0x16929e;try{const _0x2ce8a5=await axios['get'](_0x4e48a9),_0x49ac39=_0x2ce8a5['data'][_0x59d403(0x126)],_0x9d5458=await axios['get'](_0x49ac39,{'responseType':'arraybuffer'}),_0x4d9ac1=await _0x9d5458['data'],_0x374a32=await GIFBufferToVideoBuffer(_0x4d9ac1);if(_0x15e910){var _0x4e5ea8='\x20@'+_0x5080b2['split']('@')[0x0]+'\x20a\x20'+_0x56e5b4+'\x20@'+_0x4daf42[_0x59d403(0x12f)]('@')[0x0];_0x49a2dd[_0x59d403(0x11e)](_0xe1f593,{'video':_0x374a32,'gifPlayback':!![],'caption':_0x4e5ea8,'mentions':[_0x5080b2,_0x4daf42]},{'quoted':_0xc30998});}else{if('vDvcW'!==_0x59d403(0x14e)){const _0x52f3b0={'video':_0x374a32,'gifPlayback':!![],'caption':'@'+_0x5080b2[_0x59d403(0x12f)]('@')[0x0]+'\x20s\x27est\x20'+_0x56e5b4+'\x20lui\x20même.','mentions':[_0x5080b2]};_0x49a2dd[_0x59d403(0x11e)](_0xe1f593,_0x52f3b0,{'quoted':_0xc30998});}else{const _0xcdd252=_0x17afb5[_0x59d403(0x107)](_0x511154,arguments);return _0x56f4e2=null,_0xcdd252;}}}catch(_0x5543c7){_0x50f98f('Erreur\x20lors\x20de\x20la\x20récupération\x20des\x20données\x20:'+_0x5543c7),console[_0x59d403(0x121)](_0x5543c7);}}});};generateReactionCommand(a48_0x2de6d1(0x156),'👊','taquiner',a48_0x2de6d1(0x10e)),generateReactionCommand(a48_0x2de6d1(0x145),'🤗',a48_0x2de6d1(0x10c),a48_0x2de6d1(0x137)),generateReactionCommand('cry','😢',a48_0x2de6d1(0x127),'pleuré(e)\x20pour'),generateReactionCommand('hug','😊','calin',a48_0x2de6d1(0x14a)),generateReactionCommand(a48_0x2de6d1(0x109),'🐺',a48_0x2de6d1(0x109),a48_0x2de6d1(0x109)),generateReactionCommand('kiss','😘',a48_0x2de6d1(0x138),a48_0x2de6d1(0x123)),generateReactionCommand('lick','👅',a48_0x2de6d1(0x153),a48_0x2de6d1(0x124)),generateReactionCommand(a48_0x2de6d1(0x157),'👋',a48_0x2de6d1(0x15e),a48_0x2de6d1(0x117)),generateReactionCommand('smug','😏',a48_0x2de6d1(0x11c),'fait\x20un\x20sourire\x20malicieux\x20a'),generateReactionCommand(a48_0x2de6d1(0x116),'🔨','bonk',a48_0x2de6d1(0x116)),generateReactionCommand(a48_0x2de6d1(0x146),'🚀',a48_0x2de6d1(0x105),a48_0x2de6d1(0x150)),generateReactionCommand('blush','😊','rougir',a48_0x2de6d1(0x154)),generateReactionCommand(a48_0x2de6d1(0x113),'😄',a48_0x2de6d1(0x136),a48_0x2de6d1(0x11f)),generateReactionCommand(a48_0x2de6d1(0x148),'👋',a48_0x2de6d1(0x10a),'salué(e)'),generateReactionCommand(a48_0x2de6d1(0x13b),'✋','tope-la',a48_0x2de6d1(0x133)),generateReactionCommand(a48_0x2de6d1(0x13a),'🤝','tenir',a48_0x2de6d1(0x12e)),generateReactionCommand('nom','🍴','manger','mangé(e)'),generateReactionCommand(a48_0x2de6d1(0x10d),'🦷','mordre','mordu(e)'),generateReactionCommand('glomp','🤗',a48_0x2de6d1(0x13c),a48_0x2de6d1(0x158)),generateReactionCommand(a48_0x2de6d1(0x139),'👋',a48_0x2de6d1(0x147),a48_0x2de6d1(0x131)),generateReactionCommand(a48_0x2de6d1(0x15f),'💀',a48_0x2de6d1(0x129),'tué(e)'),generateReactionCommand(a48_0x2de6d1(0x15c),'🦵',a48_0x2de6d1(0x130),'donné(e)\x20un\x20coup\x20de\x20pied\x20a'),generateReactionCommand(a48_0x2de6d1(0x142),'😄','heureux','l\x27air\x20heureux\x20pour'),generateReactionCommand(a48_0x2de6d1(0x125),'😉','clin',a48_0x2de6d1(0x159)),generateReactionCommand(a48_0x2de6d1(0x108),'👉',a48_0x2de6d1(0x14b),'pousser'),generateReactionCommand(a48_0x2de6d1(0x114),'💃',a48_0x2de6d1(0x135),'dansé\x20pour'),generateReactionCommand('cringe','😬',a48_0x2de6d1(0x155),a48_0x2de6d1(0x118));