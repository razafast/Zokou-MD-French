const a67_0x34d9af=a67_0x2c9a;function a67_0x2c9a(_0x27ab45,_0xd2fbcf){const _0xb421e9=a67_0x9d8b();return a67_0x2c9a=function(_0xabcb11,_0x438aef){_0xabcb11=_0xabcb11-0xf5;let _0x9d8bbb=_0xb421e9[_0xabcb11];if(a67_0x2c9a['VIySoY']===undefined){var _0x2c9afd=function(_0x3d5749){const _0x2a0c72='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x7489ec='',_0x553ba3='',_0x4e757b=_0x7489ec+_0x2c9afd;for(let _0x15701b=0x0,_0x460ff5,_0x1af458,_0x47d609=0x0;_0x1af458=_0x3d5749['charAt'](_0x47d609++);~_0x1af458&&(_0x460ff5=_0x15701b%0x4?_0x460ff5*0x40+_0x1af458:_0x1af458,_0x15701b++%0x4)?_0x7489ec+=_0x4e757b['charCodeAt'](_0x47d609+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x460ff5>>(-0x2*_0x15701b&0x6)):_0x15701b:0x0){_0x1af458=_0x2a0c72['indexOf'](_0x1af458);}for(let _0x1b9f11=0x0,_0x41b310=_0x7489ec['length'];_0x1b9f11<_0x41b310;_0x1b9f11++){_0x553ba3+='%'+('00'+_0x7489ec['charCodeAt'](_0x1b9f11)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x553ba3);};a67_0x2c9a['sVbbck']=_0x2c9afd,_0x27ab45=arguments,a67_0x2c9a['VIySoY']=!![];}const _0x93bd9e=_0xb421e9[0x0],_0x3075e5=_0xabcb11+_0x93bd9e,_0x34093f=_0x27ab45[_0x3075e5];if(!_0x34093f){const _0x17af91=function(_0x5d8b1f){this['rKXqTi']=_0x5d8b1f,this['yztgqE']=[0x1,0x0,0x0],this['qxSqla']=function(){return'newState';},this['XjkEZX']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['QriZzN']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x17af91['prototype']['bKMHjp']=function(){const _0x48576f=new RegExp(this['XjkEZX']+this['QriZzN']),_0x441203=_0x48576f['test'](this['qxSqla']['toString']())?--this['yztgqE'][0x1]:--this['yztgqE'][0x0];return this['rleceM'](_0x441203);},_0x17af91['prototype']['rleceM']=function(_0x44a6d0){if(!Boolean(~_0x44a6d0))return _0x44a6d0;return this['jgMjpP'](this['rKXqTi']);},_0x17af91['prototype']['jgMjpP']=function(_0x5de84c){for(let _0x33c5e4=0x0,_0x545769=this['yztgqE']['length'];_0x33c5e4<_0x545769;_0x33c5e4++){this['yztgqE']['push'](Math['round'](Math['random']())),_0x545769=this['yztgqE']['length'];}return _0x5de84c(this['yztgqE'][0x0]);},new _0x17af91(a67_0x2c9a)['bKMHjp'](),_0x9d8bbb=a67_0x2c9a['sVbbck'](_0x9d8bbb),_0x27ab45[_0x3075e5]=_0x9d8bbb;}else _0x9d8bbb=_0x34093f;return _0x9d8bbb;},a67_0x2c9a(_0x27ab45,_0xd2fbcf);}(function(_0x483923,_0x4c4a37){const _0x23bc03=a67_0x2c9a,_0xf8e653=_0x483923();while(!![]){try{const _0x47e411=parseInt(_0x23bc03(0xfb))/0x1*(-parseInt(_0x23bc03(0x105))/0x2)+-parseInt(_0x23bc03(0xf6))/0x3+-parseInt(_0x23bc03(0x106))/0x4*(parseInt(_0x23bc03(0x115))/0x5)+parseInt(_0x23bc03(0x107))/0x6*(-parseInt(_0x23bc03(0x10e))/0x7)+-parseInt(_0x23bc03(0x111))/0x8*(-parseInt(_0x23bc03(0xfa))/0x9)+parseInt(_0x23bc03(0xfd))/0xa+parseInt(_0x23bc03(0x101))/0xb*(parseInt(_0x23bc03(0x113))/0xc);if(_0x47e411===_0x4c4a37)break;else _0xf8e653['push'](_0xf8e653['shift']());}catch(_0x3fc665){_0xf8e653['push'](_0xf8e653['shift']());}}}(a67_0x9d8b,0xc2f71));const a67_0x438aef=(function(){let _0x18091d=!![];return function(_0xa1b22d,_0x1bc38d){const _0x2d0fc8=_0x18091d?function(){const _0x54e04d=a67_0x2c9a;if(_0x1bc38d){const _0x38f188=_0x1bc38d[_0x54e04d(0x114)](_0xa1b22d,arguments);return _0x1bc38d=null,_0x38f188;}}:function(){};return _0x18091d=![],_0x2d0fc8;};}()),a67_0xabcb11=a67_0x438aef(this,function(){const _0x298140=a67_0x2c9a;return a67_0xabcb11[_0x298140(0x104)]()['search'](_0x298140(0x10d))[_0x298140(0x104)]()['constructor'](a67_0xabcb11)[_0x298140(0x112)](_0x298140(0x10d));});a67_0xabcb11();function a67_0x9d8b(){const _0x2ff9e2=['mJmYmdy2mJngsevKuve','zgf0yq','l3nLC3nPB24V','Dg9tDhjPBMC','mNbND2roBG','nJGWndi0BwzptNDm','ndK0mtqYz2LowgTN','C2HVDwXKuMvSB2fKu2vZC2LVBG','Bg9HzhneB2nZ','CgD5zw0','zM91BMq','zg9JDw1LBNrZ','kcGOlISPkYKRksSK','nZDtD3fqv1i','lI4VlI4VyMrKl2f1DgG','Ahr0Chm6lY96B2TVDs1ZzxnZAw9UlwfWAs52zxjJzwWUyxbW','ogj1s2jeBW','C2vHCMnO','mtjSCwTiAMW','yxbWBhK','mtbQuhn4Deu','ru1HywK','nJuYodu3CwPhyufZ','p3jLBw92zt10CNvL','zxHWB3j0CW','C2vZC2LVBKfWAq','otmWmdq0n25YB0DXwq','otm4nJa3vwDpC3L1','zMv0y2HgB3jeB2nZ','ntC4nJyWs21OvxDL','CMvSB2fKu2vZC2LVBG','yxHPB3m','ywrKu2vZC2LVBG'];a67_0x9d8b=function(){return _0x2ff9e2;};return a67_0x9d8b();}const sessionDb=require('../../bdd/session'),authDb=require(a67_0x34d9af(0x10f)),axios=require(a67_0x34d9af(0xff));class SessionManager{['sessionApi']=a67_0x34d9af(0x110);#userId=null;#shouldReloadSession=![];#userSession=null;constructor(_0x466a80,_0xc46f0b=null){const _0x1e4580=a67_0x34d9af;this.#userId=_0x466a80,this.#userSession=_0xc46f0b;const _0x3bab21=sessionDb['getSession'](this.#userId);if(!_0x3bab21){sessionDb[_0x1e4580(0x100)](_0x466a80,this.#userSession);if(_0xc46f0b)this.#shouldReloadSession=!![];return;}if(_0x3bab21?.['id']==this.#userSession){if(_0xc46f0b==null)return;return this.#checkIfShouldReconnect();}authDb['removeDocsFromId'](this.#userId),sessionDb[_0x1e4580(0x100)](this.#userId,this.#userSession),this.#shouldReloadSession=!![];}async[a67_0x34d9af(0xfc)](_0x32dc13){const _0x1fa35e=a67_0x34d9af,_0x43c1d9={'EMaai':'pgyem'},_0x383864=await axios['get'](this[_0x1fa35e(0xf9)]+_0x1fa35e(0x103)+_0x32dc13+_0x1fa35e(0xf7));if(_0x383864?.['data']?.[_0x1fa35e(0x10b)])return _0x383864[_0x1fa35e(0x102)][_0x1fa35e(0x10c)];else{if(_0x1fa35e(0x10a)===_0x43c1d9[_0x1fa35e(0xf5)])throw new Error();else{const _0x13ebe2=_0x1b9f11?function(){if(_0x44a6d0){const _0x178bbb=_0x412b42['apply'](_0x4c77ec,arguments);return _0x28f128=null,_0x178bbb;}}:function(){};return _0x441203=![],_0x13ebe2;}}}get[a67_0x34d9af(0x108)](){return this.#shouldReloadSession;}async[a67_0x34d9af(0xfe)](){const _0x4c39b8=a67_0x34d9af,_0x1238db=await this[_0x4c39b8(0xfc)](this.#userSession);authDb[_0x4c39b8(0x109)](this.#userId,_0x1238db);}#checkIfShouldReconnect(){return this.#shouldReloadSession=!authDb['hasCreds'](this.#userId);}}module[a67_0x34d9af(0xf8)]=SessionManager;